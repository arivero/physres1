# Rooted-Tree Bookkeeping: Scope Map + Butcher Example
Date: 2026-02-14
Cycle: S297 (parent: D41)

## 1. Dictionary Scope Map (Butcher ↔ RG)

| Butcher (Numerical Integration) | RG (Renormalization) | Notes |
|---|---|---|
| **B-series** \(\Phi_h(y_0) = y_0 + \sum_t h^{r(t)} a(t) F(t)(y_0)\) | Counterterm expansion \(\Gamma = \sum_{\gamma} c_\gamma I_\gamma\) | Both: formal series indexed by combinatorial objects (trees/graphs) |
| **Tree composition** (grafting) | Nested subdivergences | Rooted tree \(t = [t_1, \ldots, t_k]\) ↔ subgraph insertions |
| **Order conditions** \(\sum_t a(t) \gamma(t) = 1/r!\) | Renormalization conditions (ensure finiteness) | Both: algebraic constraints on coefficients for consistency |
| **Butcher group** (invertible methods, step reversal) | RG is semigroup (no time reversal) | **Key difference**: Butcher allows \(h \to -h\); RG flow is one-way |
| **Rooted-tree Hopf algebra** (coproduct \(\Delta\)) | Connes-Kreimer Hopf algebra | Literal equivalence for combinatorics; physics interpretation differs |
| **Collocation / Gauss nodes** | Subtraction points / renormalization schemes | Both: choice of evaluation points affects coefficients but not physics/convergence |
| **Symplectic RK** (phase-space volume preservation) | Ward identities / symmetry preservation | Both: algebraic constraints from conservation laws |

## 2. Worked Example: Order-2 Runge-Kutta (Midpoint Method)

### 2a. Method Definition
Midpoint rule (explicit RK2):
\[
\begin{align}
k_1 &= f(t_n, y_n), \\
k_2 &= f\!\left(t_n + \frac{h}{2}, y_n + \frac{h}{2}k_1\right), \\
y_{n+1} &= y_n + h\,k_2.
\end{align}
\]

Butcher tableau:
\[
\begin{array}{c|cc}
0 & 0 & 0 \\
1/2 & 1/2 & 0 \\
\hline
& 0 & 1
\end{array}
\]

### 2b. Trees and Elementary Differentials

Order-1 tree:
\[
\tau_1 = \bullet \quad \Rightarrow \quad F(\tau_1)(y) = f(y), \quad |\tau_1|=1.
\]

Order-2 trees:
\[
\tau_2 = [\bullet] \quad \Rightarrow \quad F(\tau_2)(y) = f'(y)\,f(y), \quad |\tau_2|=2.
\]

(Only two trees up to order 2; order 3 has two more: \([\bullet, \bullet]\) and \([[\bullet]]\).)

### 2c. B-Series Expansion

General one-step method:
\[
y_{n+1} = y_n + h\,f(y_n) + \frac{h^2}{2}\,f'(y_n)f(y_n) + O(h^3).
\]

Midpoint method B-series coefficients:
\[
a(\tau_1) = 1, \quad a(\tau_2) = \frac{1}{2}.
\]

Order condition for order 2:
\[
a(\tau_2) = \frac{1}{|\tau_2|!} = \frac{1}{2}.
\]
Satisfied! Midpoint is order-2 accurate.

### 2d. Composition Test: \(K_h \circ K_h\) vs \(K_{2h}\)

Composition law (B-series product):
\[
\Phi_h \circ \Phi_h = \Phi_{2h} + O(h^3).
\]

Explicit check at order 2:
\[
\begin{align}
y_2 &= \Phi_h(y_1) = \Phi_h(\Phi_h(y_0)) \\
&= y_0 + 2h\,f(y_0) + 2h^2 \cdot \frac{1}{2}\,f'(y_0)f(y_0) + O(h^3) \\
&= \Phi_{2h}(y_0) + O(h^3).
\end{align}
\]

**Tree interpretation:**
Tree composition \(\tau_1 \star \tau_1 = 2\tau_2\) (grafting two order-1 trees yields the order-2 tree with coefficient doubling). This matches the RG picture: composing two identical transformations yields the "renormalized" transformation at doubled scale.

### 2e. Step-Doubling Error Estimator

Richardson extrapolation:
\[
\Phi_{2h}(y_0) - \Phi_h(\Phi_h(y_0)) = O(h^3).
\]

The leading error coefficient is determined by the order-3 trees:
\[
\tau_3^{(1)} = [\bullet, \bullet], \quad \tau_3^{(2)} = [[\bullet]].
\]

For midpoint: \(a(\tau_3^{(1)}) = 0\), \(a(\tau_3^{(2)}) = 1/4\). Exact error formula omitted (requires order-3 elementary differentials).

## 3. RG Side: Placeholder for Counterterm Recursion

**Deferred to later S-cycle** (or to C-cycle if paper draft proceeds without it).

Minimal example: 1-loop \(\phi^4\) mass counterterm in dim-reg.
Tree structure: one-loop "sunset" diagram (3-vertex chain).
Counterterm: \(\delta m^2 \propto \Lambda^2\) (cutoff) or \(1/\varepsilon\) (dim-reg pole).
Composition: nested loop → subtraction at intermediate scale \(\mu\).

Scope: include if paper needs concrete RG witness; otherwise reference standard textbooks (Peskin/Schroeder, Collins).

## 4. Scope Verdict

**Minimal paper content (6-9pp):**
1. Section 1: Introduction (Butcher/RG as bookkeeping, motivate dictionary)
2. Section 2: Rooted trees and B-series (Butcher side, ~2pp)
3. Section 3: One worked RK example (midpoint or Heun, ~1pp)
4. Section 4: RG counterterm recursion (1-loop toy model, ~2pp)
5. Section 5: Dictionary table + structural comparison (semigroup vs group, ~1pp)
6. Section 6: Outlook (Hopf algebra, BPH recursion, symplectic/Ward identities)

**Extended version (9-13pp PRD):**
- Add Section 3b: Symplectic RK (Gauss collocation) and Ward-identity analogue
- Add Section 4b: 2-loop example or rooted-tree Hopf coproduct explicit formula
- Expand Section 5: formal Hopf algebra isomorphism statement (with caveats)

## 5. Blackboard Status

- **Verdict:** Scope map complete. One Butcher example worked (midpoint RK2, trees up to order 2).
- **Next step:** C315 to draft initial paper structure (~6pp baseline, expandable to 9-13pp).
- **Bibliography deferred:** Butcher 2016, Hairer/Lubich/Wanner, Connes/Kreimer (spawn B34 if needed before submission).
